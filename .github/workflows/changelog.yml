name: Generate Changelog

on:
  push:
    tags:
      - '*'
    branches:
      - main
  workflow_dispatch:  # –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0  # –í–∞–∂–Ω–æ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤

      - name: Generate CHANGELOG
        uses: mikepenz/release-changelog-builder-action@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          configuration: |
            categories:
              - title: "üöÄ Features"
                labels: ["feature"]
              - title: "üêõ Bug Fixes"
                labels: ["bug"]
